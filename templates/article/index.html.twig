{% extends 'base.html.twig' %}

{% block title %}Articles{% endblock %}

{% block body %}

    <h1>Articles</h1>

    <a href="{{ path( 'getCategories' ) }}">See categories</a>
    <a href="{{ path( 'getUsers' ) }}">See users</a>
    <a href="{{ path('app_login') }}">Login</a>
    <a href="{{ path('app_logout') }}">Logout</a>

    <table>
        <thead>
            <tr>
                <th>Title</th>
                <th>Content</th>
{#                <th>Status</th>#}
                <th>Published</th>
                <th>View count</th>
                <th>Like count</th>
                <th>Comment count</th>
                <th>Category</th>
                <th>Full name</th>
                <th>Username</th>
{#                <th>Email</th>#}
                <th>Interactions</th>
            </tr>
        </thead>
        <tbody>
            {% for article in articles %}

                <tr>
                    <td>
                        <a href="{{ path( 'getArticle', { 'id' : article.id} ) }}">{{ article.title }}</a>
                    </td>
                    <td>{{ article.content }}</td>
{#                    <td>{{ article.status }}</td>#}
                    <td>{{ article.publishedAt | date('Y-m-d') }}</td>
                    <td>{{ article.viewCount }}</td>
                    <td>{{ article.likeCount }}</td>
                    <td>{{ article.commentCount }}</td>
                    <td>{{ article.category.name }}</td>
                    <td>{{ article.author.getFullName() }}</td>
                    <td>{{ article.author.username }}</td>
{#                    <td>{{ article.author.email }}</td>#}
                    <td>
                        <a href="{{ path( 'updateArticle', { 'id' : article.id } ) }}">Update</a>
                        <a href="{{ path( 'deleteArticle', { 'id' : article.id } ) }}">Delete</a>
                    </td>
                </tr>

            {% endfor %}
        </tbody>
    </table>

    <button>
        <a href="{{ path('addArticle') }}">Add article</a>
    </button>

{% endblock %}
